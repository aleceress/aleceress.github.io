<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>MBTI Sentiment Analysis | Alessia Cecere</title> <meta name="author" content="Alessia Cecere"> <meta name="description" content="A Sentiment Analysis over different Myers-Briggs Personality subreddits"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css"> <link rel="stylesheet" href="/assets/css/mdb.min.css"> <link rel="stylesheet" href="/assets/css/fontawesome.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css"> <link rel="stylesheet" href="/assets/css/roboto.min.css"> <link rel="stylesheet" href="/assets/css/jekyll-pygments.min.css" media="none" id="highlight_theme_light"> <script src="/assets/js/plotly-2.16.1.min.js"></script> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://staging.alessiacecere.it/projects/1_project/"> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Alessia </span>Cecere</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">MBTI Sentiment Analysis</h1> <p class="post-description">A Sentiment Analysis over different Myers-Briggs Personality subreddits</p> </header> <article> <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script> <script defer src="/assets/js/projects/project_1/typeemotions.js"></script> <script defer src="/assets/js/projects/project_1/typesentiment.js"></script> <script defer src="/assets/js/projects/project_1/typesemotions-comp.js"></script> <script defer src="/assets/js/projects/project_1/typessentiment-comp.js"></script> <script defer src="/assets/js/projects/project_1/traitsemotions-comp.js"></script> <script defer src="/assets/js/projects/project_1/traitsentiment-comp.js"></script> <script defer src="/assets/js/projects/project_1/cognitivefunctions-sentiment.js"></script> <script defer src="/assets/js/projects/project_1/cognitivefunctions-emotion.js"></script> <script defer src="/assets/js/projects/project_1/clustering.js"></script> <link rel="stylesheet" href="/assets/css/slick.css"> <link rel="stylesheet" href="/assets/css/slick-theme.css"> <script src="/assets/js/jquery-2.1.1.js"></script> <script type="text/javascript" src="http://cdn.jsdelivr.net/jquery.slick/1.3.15/slick.min.js"></script> <script src="/assets/js/slick.min.js"></script> <script src="/assets/js/slick.js"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <h2 id="introduction">Introduction</h2> <p>Sooo… at some point in my adolescence, like many other people I guess, I took the <a href="https://www.16personalities.com/free-personality-test" rel="external nofollow noopener" target="_blank">16 Personalities Test</a>. Once I saw the results, I clearly remember this feeling of being understood: matching my characteristics with an abstract model shared by other people made me feel part of a crowd, even without actually seing it.</p> <p>Years later - don’t even remember how - I literally became <em>obsessed</em> with this personality classification, spending my whole summer reading about it and discovering a world behind it. The more I read and learned, the more I was fascinated. I started trying to <em>type</em> people around me and matching their actions with my expectations based on that. This also gave me a sense of protection: I finally had a tool to <em>model</em> others, and that would have reduced the uncertainty!</p> <p>Well.. I had become <em>a little too obsessed</em>, to the point that I couldn’t filter out the model from reality anymore. So I decided to quit.</p> <p><strong>Fast forward</strong>: now that I’m an older oldie, I’ve decided to hug that little girl and start an MBTI-based investigation, using the new tools data analysis gave me. In particular, this project aims at answering the following question:</p> <p><em>Is there a correlation between Myers-Briggs type and the sentiment expressed in written comunication?</em></p> <h2 id="the-data">The data</h2> <p>To perform any kind analysis, we first need data. Better if a lot of them.</p> <p>There’s a big Reddit world for Myers-Briggs fans. In particular, there’s a subreddit for each personality type. You don’t need to test as a particular personality to write on the corresponding subreddit, but from an empirical observation I saw that this is what happens in most of the cases. Therefore, I applied the analysis on subreddit posts, with the approximation of labeling them as written by the associated personality. If you want to be more precise, you can change the original question in:</p> <p><em>Is there a correlation between Myers-Briggs subreddit and the sentiment expressed in its posts?</em></p> <h2 id="sentiment-analysis">Sentiment analysis</h2> <p>To perform the analysis, I used the following models.</p> <ul> <li> <a href="https://huggingface.co/distilbert-base-uncased-finetuned-sst-2-english?text=I+like+you.+I+love+you" rel="external nofollow noopener" target="_blank">DistilBERT base uncased finetuned SST-2 </a>, to obtain a positive and negative score for each post.</li> <li> <a href="https://huggingface.co/bhadresh-savani/distilbert-base-uncased-emotion" rel="external nofollow noopener" target="_blank">Distilbert-base-uncased-emotion</a>, to get post scores over the following emotions: <em>love, joy, anger, sadness, surprise</em> and <em>fear</em>.</li> </ul> <h3 id="type-analysis">Type analysis</h3> <p>For each personality type, I aggregated the scores obtained for each <strong>emotion</strong>, and computed the <strong>average value</strong>. I also assessed the <strong>percentage</strong> of posts classified as <em>positive</em> and <em>negative</em> (based on the higher score in the sentiment measure). Here are some interactive graphs displaying the results: you can view the emotion and sentiment values for each personality type by selecting it.</p> <div class="showcase__section" id="bubble"> <div class="spacer --small"></div> <div id="bubbleplots"> <div class="bubbleplot" data-num="0"> <div class="plot" id="plotdiv"></div> <div class="control-row"> Type: <select class="typedata" style="padding: 0px"> </select> </div> </div> </div> </div> <div class="showcase__section" id="bubble"> <div class="spacer --small"></div> <div id="bubbleplots"> <div class="bubbleplot" data-num="1"> <div class="plot" id="plotsentimentdiv"></div> <div class="control-row"> Type: <select class="typedata_s"> </select> </div> </div> </div> </div> <p><br></p> <p>The obtained values were then <strong>compared</strong> across different personality types, and the differences are shown in the following graphs.</p> <div class="showcase__section" id="bubble"> <div class="spacer --small"></div> <div id="bubbleplots"> <div class="bubbleplot" data-num="2"> <div class="plot2" id="plotemotioncomp"></div> <div class="control-row"> Emotion: <select class="typedata2"> </select> </div> </div> </div> </div> <p><br></p> <p>It looks like ISFJ and ESFJ tend to have the highest <em>love</em> scores, while INTP has the lowest. Expression of <em>joy</em> appears to be relatively uniform across personality types, with a slightly higher score for ESFP. According to the analysis of text data, ESTJ posts convey the highest <em>anger</em> score on average, while INFJ posts the weakest. INFJ posts have, on the other hand, the maximum <em>sadness</em> and <em>surprise</em> scores. INFP posts manifest the highest value of fear, while ENTJ ones the minimum across all personalities.</p> <p>Of course these results should be interpreted with caution, as they are based on a limited and contaminated sample (let’s remember that posts are not necessarily written by the corresponding personality type). With that being said, I find them broadly consistent with what is known about the corresponding personality types.</p> <p>The <strong>ISFJ</strong> (Introverted, Sensing, Feeling, Judging) and <strong>ESFJ</strong> (Extraverted, Sensing, Feeling, Judging) personality types are known for their strong feelings and emotional sensitivity, which may explain why they tend to have higher scores on the <em>love</em> emotion. The <strong>INTP</strong> (Introverted, Intuitive, Thinking, Perceiving) personality type, on the other hand, is known for its logical and analytical approach to decision making, which may lead to a lower score on the <em>love</em> emotion. This is confirmed by the fact that also other notoriously analytical types (like ENTP and ENTJ) tend to have lower <em>love</em> scores when compared to the other personalities.</p> <p>The relatively uniform expression of <em>joy</em> across personality types is consistent with the idea that this emotion is relatively universal and not strongly influenced by individual differences in personality. However, the slightly higher score for individuals with the <strong>ESFP</strong> (Extraverted, Sensing, Feeling, Perceiving) personality type may be due to their outgoing and sociable nature, which could lead to a greater tendency to express <em>joy</em> in written communication.</p> <p>The higher <em>anger</em> score for <strong>ESTJ</strong> (Extraverted, Sensing, Thinking, Judging) posts is consistent with the assertive and decisive nature of this personality type, as they may be more likely to express anger in response to a perceived threat or challenge. The lower <em>anger</em> score for <strong>INFJ</strong> (Introverted, Intuitive, Feeling, Judging) posts is consistent with their introspective and empathetic nature, as they may be more inclined to consider others’ feelings and avoid expressing <em>anger</em>.</p> <p>The higher <em>sadness</em> and <em>surprise</em> scores for <strong>INFJ</strong> posts are consistent with their deep feelings and strong intuition, which may lead to a greater tendency to experience and express these emotions. The higher <em>fear</em> score for <strong>INFP</strong> (Introverted, Intuitive, Feeling, Perceiving) posts is consistent with their sensitive and imaginative nature, as they may be more prone to feeling anxious or fearful in certain situations. The lower <em>fear</em> score for <strong>ENTJ</strong> (Extraverted, Intuitive, Thinking, Judging) posts is consistent with their confident and strategic approach to problem-solving, which may lead to a lower tendency to experience fear.</p> <div class="showcase__section" id="bubble"> <div class="spacer --small"></div> <div id="bubbleplots"> <div class="bubbleplot" data-num="3"> <div class="plot3" id="plotsentimentcomp"></div> <div class="control-row"> Sentiment: <select class="typedata3"> </select> </div> </div> </div> </div> <p><br></p> <p>The <strong>sentiment</strong> of posts on various subreddits tends to be evenly split between <em>positive</em> and <em>negative</em>, but there are some exceptions.</p> <p>The <strong>INFP</strong> subreddit, for example, has a higher percentage of <em>positive</em> posts at 61%. It is interesting to notice that INFPs also had the highest <em>fear</em> score. <strong>INTJ</strong>, <strong>INFJ</strong>, <strong>ENTJ</strong>, <strong>ISTJ</strong> and <strong>ENTP</strong> (in that order) have the highest percentages of <em>negative</em> posts, ranging from 65% to 56%.</p> <p>In the following graph, you can see the results of a <a href="https://it.wikipedia.org/wiki/Clustering" rel="external nofollow noopener" target="_blank"><strong>clustering</strong></a> of different personalities, based on the sentiment of scraped text data. Each personality was represented as a vector containing the average value of each emotion and the percentage of posts classified with each sentiment. This brought to 6-dimensional vectors, which I projected in a two dimensional space applying a <a href="https://it.wikipedia.org/wiki/Analisi_delle_componenti_principali" rel="external nofollow noopener" target="_blank">PCA</a>. The following table shows how the original variables contributed to the Principal Components.</p> <div style="overflow-x:auto;"> <table border="1" align="center" style="border: 1px solid black; padding: 0, border-collapse: collapse;"> <tr> <th></th> <th align="right">love</th> <th>joy</th> <th>anger</th> <th align="right">sadness</th> <th>surprise</th> <th>fear</th> <th>positive</th> <th>negative</th> </tr> <tr> <td><b>PC_1</b></td> <td align="right"> 0.04</td> <td align="right">0.14</td> <td align="right">0.19 </td> <td align="right">0.21 </td> <td align="right">0.44 </td> <td align="right">0.32 </td> <td align="right">0.54 </td> <td align="right">0.56 </td> </tr> <tr> <td align="right"><b>PC_2 </b></td> <td align="right"> 0.33</td> <td align="right">0.02</td> <td align="right">0.19 </td> <td align="right">0.62 </td> <td align="right">0.46 </td> <td align="right">0.18 </td> <td align="right">0.48 </td> <td align="right">0.12 </td> </tr> </table> </div> <p><br> After performing principal component analysis, I utilized <a href="https://en.wikipedia.org/wiki/K-means_clustering" rel="external nofollow noopener" target="_blank">K-Means clustering</a>, whose fitting indicated that the optimal number of clusters was four, with the configuration shown. It was noteworthy that the outlying clusters included INFJ and INTJ personality types, as these types are known to be relatively rare among the general population (though to be the two rarest types).</p> <div id="clustering"></div> <p><br></p> <h3 id="aggregate-analysis">Aggregate Analysis</h3> <p>Upon conducting individual analysis of the various personality types, I became curious as to whether there might be correlations between certain <strong>traits</strong> (such as <em>Extraversion</em>) and the observed differences in sentiment expressed on different subreddits. In order to explore this hypothesis, I aggregated the personalities based on their dominant traits and <strong>functions</strong>.</p> <h4 id="traits">Traits</h4> <p>The following graphs compare the differences in emotion and sentiment in the presence of a specific trait versus its opposite. You can change the trait being compared by selecting it.</p> <p>In contrast to the non-aggregated analysis, for this case I did not use the average for emotions but rather a similar approach to the one used for sentiment. Specifically, I compared the <strong>percentages</strong> of posts classified as containing a particular emotion using a <em>winner takes all</em> approach. This means that a post is classified as expressing that emotion if the emotion value for that post is higher that the values assigned to other emotions. I chose this approach because it was a better measure for calculating the correlation.</p> <p>To identify dependencies between traits and emotions and traits and sentiment, I used the following statistics.</p> <ul> <li> <p><strong>Chi Squared</strong>: the Chi Squared test is a statistical test that is used to compare the <strong>observed frequencies</strong> of events or categories in a sample to the <strong>expected frequencies</strong> of those events or categories based on some theoretical expectation. It is used to determine whether there is a <strong>significant difference</strong> between the observed frequencies and the expected frequencies, and can be used to test hypotheses about a population.</p> <p>I used the chi-squared test to compare the number of posts classified as positive or negative, or the number of posts classified with a particular emotion versus all the others, in the presence or absence of a particular trait. The comparison was conducted using a contingency table with one degree of freedom, so the expected frequencies were computed based on the marginal sums under the assumption of independence.</p> <p>The <strong>p-value</strong> in a chi-squared test is a measure of the probability that the differences between the observed and expected frequencies could have occurred by chance. A small p-value suggests that the observed differences are statistically significant and not likely due to chance alone, while a large p-value suggests that the observed differences are likely due to chance and are not statistically significant.</p> <p>I didn’t include all the computed <strong>p-values</strong> in this discussion because I found the following measure more intuitive. If you are interested in computation and results you can find them <a href="https://github.com/aleceress/mbti_sentiment/blob/master/aggregate_analysis.ipynb" rel="external nofollow noopener" target="_blank">here</a>, in the GitHub repository in which I included all the code for this project.</p> </li> <li> <p><strong>Odds Ratio</strong>: the odds ratio is a <strong>measure of the relationship</strong> between two events or categories in a study. It is used to compare the odds of an event occurring in one group to the odds of the event occurring in another group. I computed the odds ratio to compare the odds of scoring <em>negative</em> (or with a particular emotion) having one trait to the odds of doing so not having it (therefore, having the opposite one). An odds ratio greater than 1 indicates that the event is more likely to occur in the first group compared to the second group, while an odds ratio less than 1 indicates that the event is less likely to occur in the first group compared to the second group. You can find the <em>odds ratio</em> with its <em>p values</em> and the consequent interpretation in the caption of the following graphs.</p> </li> </ul> <div class="showcase__section" id="bubble"> <div class="spacer --small"></div> <div id="bubbleplots"> <div class="bubbleplot" data-num="4"> <div class="plot4" id="traitemotioncomp"></div> <div class="control-row"> Traits to compare: <select class="typedata4"> </select> </div> </div> </div> </div> <div id="trait-emotion-description" style="text-align:center; padding:10px; font-size:80% "></div> <p><br></p> <div class="showcase__section" id="bubble"> <div class="spacer --small"></div> <div id="bubbleplots"> <div class="bubbleplot" data-num="5"> <div class="plot5" id="traitsentimentcomp"></div> <div class="control-row"> Traits to compare: <select class="typedata5"> </select> </div> </div> </div> </div> <div id="trait-sentiment-description" style="text-align:center; padding:10px; font-size:80% "></div> <h4 id="cognitive-functions">Cognitive functions</h4> <p>I also investigated the relation between the <strong>Dominant Cognitive Function</strong> and the percentages of sentiment and emotions in posts. Differences are shown in the following graphs, after selecting the emotion or sentiment of interest.</p> <p>Again, the results should be interpreted with care, but I could appreciate some similarities between results and what is known about cognitive functions. Specifically, it appears that individuals with <strong>Fe</strong> (Extraverted Feeling) as their dominant cognitive function tend to have more posts classified with <em>love</em>. We know that Fe is focused on the interpersonal and social aspects of life and involves a deep concern for the well-being of others. People with Fe as their dominant cognitive function tend to be empathetic, compassionate, and attuned to the emotional needs of others, so it seems likely that they would express more love in written communication with them. <strong>Ni</strong> dominant individuals are often imaginative, introspective, and insightful, with a strong intuition and a deep understanding of their own motivations and desires: this focus on the inner world and perception of patterns could correlate respectively with higher <em>sadness</em> ad <em>surprise</em> scores.</p> <div class="showcase__section" id="bubble"> <div class="spacer --small"></div> <div id="bubbleplots"> <div class="bubbleplot" data-num="6"> <div class="plot6" id="functionsemotioncomp"></div> <div class="control-row"> Emotions to compare: <select class="typedata6"> </select> </div> </div> </div> </div> <div class="showcase__section" id="bubble"> <div class="spacer --small"></div> <div id="bubbleplots"> <div class="bubbleplot" data-num="7"> <div class="plot7" id="functionsentimentcomp"></div> <div class="control-row"> Sentiment to compare: <select class="typedata7"> </select> </div> </div> </div> </div> <p><br></p> <p><strong>Extra tidbit</strong>: I made Word Clouds for each subreddit using the text that I had scraped. I think they turned out really cute!</p> <div class="wordclouds"> <div style="text-align:center"> <img src="/assets/img/infj_wordcloud.webp" style="margin:auto; padding: 10px" width="100%" height="auto" center="true"><caption style="text-align:right"> INFJ </caption> </div> <div style="text-align:center"> <img src="/assets/img/intj_wordcloud.webp" style="margin:auto; padding: 10px" width="100%" height="auto" center="true"><caption style="text-align:right"> INTJ </caption> </div> <div style="text-align:center"> <img src="/assets/img/infp_wordcloud.webp" style="margin:auto; padding: 10px" width="100%" height="auto" center="true"><caption style="text-align:right"> INFP </caption> </div> <div style="text-align:center"> <img src="/assets/img/intj_wordcloud.webp" style="margin:auto; padding: 10px" width="100%" height="auto" center="true"><caption style="text-align:right"> INTP </caption> </div> <div style="text-align:center"> <img src="/assets/img/entj_wordcloud.webp" style="margin:auto; padding: 10px" width="100%" height="auto" center="true"><caption style="text-align:right"> ENTJ </caption> </div> <div style="text-align:center"> <img src="/assets/img/enfp_wordcloud.webp" style="margin:auto; padding:10px" width="100%" height="auto" center="true"><caption style="text-align:right"> ENFP </caption> </div> <div style="text-align:center"> <img src="/assets/img/entp_wordcloud.webp" style="margin:auto; padding:10px" width="100%" height="auto" center="true"><caption style="text-align:right"> ENTP </caption> </div> <div style="text-align:center"> <img src="/assets/img/enfj_wordcloud.webp" style="margin:auto; padding:10px" width="100%" height="auto" center="true"><caption style="text-align:right"> ENFJ </caption> </div> <div style="text-align:center"> <img src="/assets/img/isfj_wordcloud.webp" style="margin:auto; padding:10px" width="100%" height="auto" center="true"><caption style="text-align:right"> ISFJ </caption> </div> <div style="text-align:center"> <img src="/assets/img/istj_wordcloud.webp" style="margin:auto; padding:10px" width="100%" height="auto" center="true"><caption style="text-align:right"> ISTJ </caption> </div> <div style="text-align:center"> <img src="/assets/img/istp_wordcloud.webp" style="margin:auto; padding:10px" width="100%" height="auto" center="true"><caption style="text-align:right"> ISTP </caption> </div> <div style="text-align:center"> <img src="/assets/img/isfp_wordcloud.webp" style="margin:auto; padding:10px" width="100%" height="auto" center="true"><caption style="text-align:right"> ISFP </caption> </div> <div style="text-align:center"> <img src="/assets/img/esfj_wordcloud.webp" style="margin:auto; padding:10px" width="100%" height="auto" center="true"><caption style="text-align:right"> ESFJ </caption> </div> <div style="text-align:center"> <img src="/assets/img/estj_wordcloud.webp" style="margin:auto; padding:10px" width="100%" height="auto" center="true"><caption style="text-align:right"> ESTJ </caption> </div> <div style="text-align:center"> <img src="/assets/img/estp_wordcloud.webp" style="margin:auto; padding:10px" width="100%" height="auto" center="true"><caption style="text-align:right"> ESTP </caption> </div> <div style="text-align:center"> <img src="/assets/img/esfp_wordcloud.webp" style="margin:auto; padding:10px" width="100%" height="auto" center="true"><caption style="text-align:right"> ESFP </caption> </div> </div> <script>$(".wordclouds").slick({dots:!0});</script> <h4 id="conclusion">Conclusion</h4> <p>While it was not the goal of this study to arrive at a definitive conclusion, it was interesting to approach the topic from a data analysis perspective and observe any similarities between my prior knowledge, expectations, and results.</p> <p>If you have any questions or comments, please do not hesitate to contact me. If you want to deepen the topic, you can have a look at the code and the analyisis on the <a href="https://github.com/aleceress/mbti_sentiment" rel="external nofollow noopener" target="_blank">GitHub respository</a> (and maybe give me a star!).</p> <p>I hope you enjoyed this exploration and found the interactive graphs engaging. Thank you for reading, and until next time!</p> <p><em>Sincerly,</em></p> <p><em>Alessia (an INFJ)</em>.</p> <script async="" src="https://comments.app/js/widget.js?3" data-comments-app-website="KRdv5SSt" data-limit="5" data-color="B509AC"></script> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 Alessia Cecere. </div> </footer> <script src="/assets/js/jquery.min.js"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="/assets/js/mdb.min.js"></script> <script defer src="/assets/js/masonry.pkgd.min.js"></script> <script defer src="/assets/js/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js"></script> <script defer src="/assets/js/medium-zoom.min.js"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer id="MathJax-script" src="/assets/js/tex-mml-chtml.js"></script> <script defer src="/assets/js/polyfill.min.js"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>