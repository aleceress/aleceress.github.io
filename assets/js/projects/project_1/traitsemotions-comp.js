d3.csv("../traits_emotions.csv",function(e,b){function o(e,b){return e.map(function(e){return e[b]})}function r(e){F=[],"I/E"==e?(F.push(0),F.push(1)):"N/S"==e?(F.push(2),F.push(3)):"F/T"==e?(F.push(4),F.push(5)):"P/J"==e&&(F.push(6),F.push(7))}function s(e){f=[],m=[],h=[],y=[],E=[],S=[],F=[],r(e),f.push(l[F[0]]),f.push(l[F[1]]),m.push(d[F[0]]),m.push(d[F[1]]),h.push(u[F[0]]),h.push(u[F[1]]),y.push(c[F[0]]),y.push(c[F[1]]),E.push(v[F[0]]),E.push(v[F[1]]),S.push(g[F[0]]),S.push(g[F[1]])}function a(e){s(e);var b=[{x:[f[0],m[0],h[0],y[0],E[0],S[0]],y:i,name:p[F[0]],orientation:"h",marker:{color:"darkred   ",width:1},type:"bar"},{x:[f[1],m[1],h[1],y[1],E[1],S[1]],y:i,name:p[F[1]],orientation:"h",marker:{color:"rgb(229, 169, 74)",width:1},type:"bar"}],o={title:e.concat(" emotion percentage comparison"),barmode:"group",margin:{b:30}};Plotly.newPlot("traitemotioncomp",b,o)}function t(e,b){for(var o=0;o<e.length;o++){var r=document.createElement("option");r.text=e[o],b.appendChild(r)}}function n(){a(N.value)}var i=["love","joy","anger","sadness","surprise","fear"],p=o(b,"trait"),l=o(b,"love"),d=o(b,"joy"),u=o(b,"anger"),c=o(b,"sadness"),v=o(b,"surprise"),g=o(b,"fear"),f=[],m=[],h=[],y=[],E=[],S=[],F=[];a("I/E");var J=document.querySelector('[data-num="4"'),N=(J.querySelector(".plot4"),J.querySelector(".typedata4"));t(["I/E","N/S","F/T","P/J"],N),N.addEventListener("change",n,!1);var L=document.getElementById("trait-emotion-description"),j={"I/E":"\n                <br> <b> Fear:</b> odds ratio:  0.92 ,  p value:  2.84e-07, so <b>8.17%</b> less probable to get a fear score if <b>E</b> <br>\n                <br> <b> Surprise:</b> odds ratio: 1.06 ,  p value:  0, so <b>6.3%</b> more probable to get a surprise  score if <b>E</b> <br>\n                <br> <b> Sadness:</b> odds ratio: 0.84 ,  p value:  7.06e-81, so <b>15.15%</b> less probable to get a sadness  score if <b>E</b> <br>\n                <br> <b> Anger:</b> odds ratio:  0.97 , p value:  3.53e-07, so <b>3.11%</b> less probable to get a anger score if <b>E</b> <br>\n                <br> <b> Joy:</b> odds ratio:  1.15 ,  p value:  1.25e-95, so <b>15.18%</b> more probable to get a joy score if <b>E</b> <br>\n                <br> <b> Love:</b> odds ratio:  1.11 ,  p value:  4.80e-8, so <b>10.73%</b> more probable to get a love  score if <b>E</b> <br>\n                ","N/S":"\n                <br> <b> Fear:</b> odds ratio:  1.06 ,  p value: 0.001, so <b>6.62%</b> more probable to get a fear score if <b>N</b> <br>\n                <br> <b> Surprise:</b> odds ratio: 0.89 ,  p value:  3.21e-06, so <b>10.94%</b> less probable to get a surprise  score if <b>N</b> <br>\n                <br> <b> Sadness:</b> odds ratio: 1.28 ,  p value:  1.07e-83, so <b>28.58%</b> more probable to get a sadness  score if <b>N</b> <br>\n                <br> <b> Anger:</b> odds ratio:  0.98 , p value:  0.1, so no significant relationship between N and anger <br>\n                <br> <b> Joy:</b> odds ratio:  0.90 ,  p value:  5.27e-24, so <b>9.54%</b> less probable to get a joy score if <b>N</b> <br>\n                <br> <b> Love:</b> odds ratio:  0.78 ,  p value:  1.83e-22, so <b>22.37%</b> less probable to get a love  score if <b>N</b> <br>\n                ","F/T":"\n                <br> <b> Fear:</b> odds ratio:  1.07 ,  p value: 9.04e-10, so <b>7.43%</b> more probable to get a fear score if <b>F</b> <br>\n                <br> <b> Surprise:</b> odds ratio: 0.86 ,  p value:  1.24e-21, so <b>13.7%</b> less probable to get a surprise  score if <b>F</b> <br>\n                <br> <b> Sadness:</b> odds ratio: 1.21 ,  p value:  1.09e-155, so <b>21.85%</b> more probable to get a sadness  score if <b>F</b> <br>\n                <br> <b> Anger:</b> odds ratio:  0.97 , p value:  3.33e-08, so <b>2.95%</b> less probable to get a anger score if <b>F</b> <br>\n                <br> <b> Joy:</b> odds ratio:  0.87 ,  p value:  7.14e-112, so <b>12.67%</b> less probable to get a joy score if <b>F</b> <br>\n                <br> <b> Love:</b> odds ratio:  1.42 ,  p value:  2.80e-98, so <b>42.24%%</b> more probable to get a love  score if <b>F</b> <br>\n                ","P/J":"\n                <br> <b> Fear:</b> odds ratio:  1.28 ,  p value: 9.04e-10, so <b>4.31%</b> more probable to get a fear score if <b>J</b> <br>\n                <br> <b> Surprise:</b> odds ratio: 1.36 ,  p value:  2.91e-84, so <b>36.56%</b> more probable to get a surprise  score if <b>J</b> <br>\n                <br> <b> Sadness:</b> odds ratio: 1.25 ,  p value:  5.26e-181, so <b>25.16%</b> more probable to get a sadness  score if <b>J</b> <br>\n                <br> <b> Anger:</b> odds ratio:  0.62 , p value:  0, so <b>37.76.95%</b> less probable to get a anger score if <b>J</b> <br>\n                <br> <b> Joy:</b> odds ratio:  1.28 ,  p value: 0, so <b>28.97%</b> more probable to get a joy score if <b>J</b> <br>\n                <br> <b> Love:</b> odds ratio: 1.40 ,  p value:  1.75e-86, so <b>40.45%</b> more probable to get a love  score if <b>J<br>\n                "};L.innerHTML=j["I/E"],N.addEventListener("change",()=>{L.innerHTML=j[N.value]})});